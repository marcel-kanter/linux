/* SPDX-License-Identifier: GPL-2.0 OR MIT */
/*
Copyright (c) 2021 Marcel Kanter <marcel.kanter@googlemail.com>
*/
#ifndef _MESON_GX_AIU_H
#define _MESON_GX_AIU_H

#include <linux/bits.h>


// register address offsets of the AIU peripheral module
#define AIU_958_BPF	0x0000
#define AIU_958_BRST	0x0004
#define AIU_958_LENGTH	0x0008
#define AIU_958_PADDSIZE	0x000C
#define AIU_958_MISC	0x010
#define AIU_958_DISCARD_NUM	0x0018
#define AIU_958_DCU_FF_CTRL	0x001C
#define AIU_958_CHSTAT_L0	0x0020
#define AIU_958_CHSTAT_L1	0x0024
#define AIU_958_CTRL	0x0028
#define AIU_958_RPT	0x002C
#define AIU_I2S_MUTE_SWAP	0x0030

#define AIU_I2S_SOURCE_DESC	0x0034
#define AIU_I2S_SOURCE_DESC_MODE_8CH	BIT(0)
#define AIU_I2S_SOURCE_DESC_MODE_24BIT	BIT(5)
#define AIU_I2S_SOURCE_DESC_MODE_32BIT	BIT(9)
#define AIU_I2S_SOURCE_DESC_MODE_SPLIT	BIT(11)

#define AIU_I2S_MED_CTRL	0x0038
#define AIU_I2S_MED_THRESH	0x003C

#define AIU_I2S_DAC_CFG	0x0040
#define AIU_I2S_DAC_CFG_MSB_FIRST	BIT(2)

#define AIU_I2S_SYNC	0x0044

#define AIU_I2S_MISC	0x0048
#define AIU_I2S_MISC_HOLD_EN	BIT(2)

#define AIU_I2S_OUT_CFG	0x004C

#define AIU_RST_SOFT	0x0054
#define AIU_RST_SOFT_I2S_FAST	BIT(0)

#define AIU_CLK_CTRL	0x0058
#define AIU_CLK_CTRL_I2S_DIV_EN	BIT(0)
#define AIU_CLK_CTRL_I2S_DIV	GENMASK(3, 2)
#define AIU_CLK_CTRL_AOCLK_INVERT	BIT(6)
#define AIU_CLK_CTRL_LRCLK_INVERT	BIT(7)
#define AIU_CLK_CTRL_LRCLK_SKEW	GENMASK(9, 8)

#define AIU_MIX_ADCCFG	0x005C
#define AIU_MIX_CTRL	0x0060

#define AIU_CLK_CTRL_MORE	0x0064
#define AIU_CLK_CTRL_MORE_I2S_DIV	GENMASK(5, 0)

#define AIU_958_POP	0x0068
#define AIU_MIX_GAIN	0x006C
#define AIU_958_SYNWORD1	0x0070
#define AIU_958_SYNWORD2	0x0074
#define AIU_958_SYNWORD3	0x0078
#define AIU_958_SYNWORD1_MASK	0x007C
#define AIU_958_SYNWORD2_MASK	0x0080
#define AIU_958_SYNWORD3_MASK	0x0084
#define AIU_958_FFRDOUT_THD	0x0088
#define AIU_958_LENGTH_PER_PAUSE	0x008C
#define AIU_958_PAUSE_NUM	0x0090
#define AIU_958_PAUSE_PAYLOAD	0x0094
#define AIU_958_AUTO_PAUSE	0x0098
#define AIU_958_PAUSE_PD_LENGTH	0x009C

#define AIU_CODEC_DAC_LRCLK_CTRL	0x00A0
#define AIU_CODEC_DAC_LRCLK_CTRL_DIV	GENMASK(11, 0)

#define AIU_CODEC_ADC_LRCLK_CTRL	0x00A4
#define AIU_HDMI_CLK_DATA_CTRL	0x00A8
#define AIU_CODEC_CLK_DATA_CTRL	0x00AC
#define AIU_958_CHSTAT_R0	0x00C0
#define AIU_958_CHSTAT_R1	0x00C4
#define AIU_958_VALID_CTRL	0x00C8
#define AIU_AIFIFO2_CTRL	0x0100
#define AIU_AIFIFO2_STATUS	0x0104
#define AIU_AIFIFO2_GBIT	0x0108
#define AIU_AIFIFO2_CLB	0x010C
#define AIU_CRC_CTRL	0x0110
#define AIU_CRC_STATUS	0x0114
#define AIU_CRC_SHIFT_REG	0x0118
#define AIU_CRC_IREG	0x011C
#define AIU_CRC_CAL_REG1	0x0120
#define AIU_CRC_CAL_REG0	0x0124
#define AIU_CRC_POLY_COEF1	0x0128
#define AIU_CRC_POLY_COEF0	0x012C
#define AIU_CRC_BIT_SIZE1	0x0130
#define AIU_CRC_BIT_SIZE0	0x0134
#define AIU_CRC_BIT_CNT1	0x0138
#define AIU_CRC_BIT_CNT0	0x013C
#define AIU_AMCLK_GATE_HI	0x0140
#define AIU_AMCLK_GATE_LO	0x0144
#define AIU_AMCLK_MSR	0x0148
#define AIU_MEM_I2S_START_PTR	0x0180
#define AIU_MEM_I2S_RD_PTR	0x0184
#define AIU_MEM_I2S_END_PTR	0x0188

#define AIU_MEM_I2S_MASKS	0x018C
#define AIU_MEM_I2S_MASKS_READ	GENMASK(7, 0)
#define AIU_MEM_I2S_MASKS_MEMORY	GENMASK(15, 8)
#define AIU_MEM_I2S_MASKS_IRQ_BLOCK	GENMASK(31, 16)

#define AIU_MEM_I2S_CONTROL	0x0190
#define AIU_MEM_I2S_CONTROL_INIT	BIT(0)
#define AIU_MEM_I2S_CONTROL_FILL_EN	BIT(1)
#define AIU_MEM_I2S_CONTROL_EMPTY_EN	BIT(2)
#define AIU_MEM_I2S_CONTROL_MODE_16BIT	BIT(6)

#define AIU_MEM_IEC958_START_PTR	0x0194
#define AIU_MEM_IEC958_RD_PTR	0x0198
#define AIU_MEM_IEC958_END_PTR	0x019C

#define AIU_MEM_IEC958_MASKS	0x01A0
#define AIU_MEM_IEC958_MASKS_READ	GENMASK(7, 0)
#define AIU_MEM_IEC958_MASKS_MEMORY	GENMASK(15, 8)

#define AIU_MEM_IEC958_CONTROL	0x01A4
#define AIU_MEM_AIFIFO2_START_PTR	0x01A8
#define AIU_MEM_AIFIFO2_CURR_PTR	0x01AC
#define AIU_MEM_AIFIFO2_END_PTR	0x01B0
#define AIU_MEM_AIFIFO2_BYTES_AVAIL	0x01B4
#define AIU_MEM_AIFIFO2_CONTROL	0x01B8
#define AIU_MEM_AIFIFO2_MAN_WP	0x01BC
#define AIU_MEM_AIFIFO2_MAN_RP	0x01C0
#define AIU_MEM_AIFIFO2_LEVEL	0x01C4
#define AIU_MEM_AIFIFO2_BUF_CNTL	0x01C8
#define AIU_MEM_I2S_MAN_WP	0x01CC
#define AIU_MEM_I2S_MAN_RP	0x01D0
#define AIU_MEM_I2S_LEVEL	0x01D4

#define AIU_MEM_I2S_BUF_CNTL	0x01D8
#define AIU_MEM_I2S_BUF_CNTL_INIT	BIT(0)

#define AIU_MEM_I2S_BUF_WRAP_COUNT	0x01DC
#define AIU_MEM_I2S_MEM_CTL	0x01E0

#define AIU_MEM_IEC958_MEM_CTL	0x01E4
#define AIU_MEM_IEC958_WRAP_COUNT	0x01E8
#define AIU_MEM_IEC958_IRQ_LEVEL	0x01EC
#define AIU_MEM_IEC958_MAN_WP	0x01F0
#define AIU_MEM_IEC958_MAN_RP	0x01F4
#define AIU_MEM_IEC958_LEVEL	0x01F8
#define AIU_MEM_IEC958_BUF_CNTL	0x01FC
#define AIU_AIFIFO_CTRL	0x0200
#define AIU_AIFIFO_STATUS	0x0204
#define AIU_AIFIFO_GBIT	0x0208
#define AIU_AIFIFO_CLB	0x020C
#define AIU_MEM_AIFIFO_START_PTR	0x0210
#define AIU_MEM_AIFIFO_CURR_PTR	0x0214
#define AIU_MEM_AIFIFO_END_PTR	0x0218
#define AIU_MEM_AIFIFO_BYTES_AVAIL	0x021C
#define AIU_MEM_AIFIFO_CONTROL	0x0220
#define AIU_MEM_AIFIFO_MAN_WP	0x0224
#define AIU_MEM_AIFIFO_MAN_RP	0x0228
#define AIU_MEM_AIFIFO_LEVEL	0x022C
#define AIU_MEM_AIFIFO_BUF_CNTL	0x0230
#define AIU_MEM_AIFIFO_BUF_WRAP_COUNT	0x0234
#define AIU_MEM_AIFIFO2_BUF_WRAP_COUNT	0x0238
#define AIU_MEM_AIFIFO_MEM_CTL	0x023C
#define AIFIFO_TIME_STAMP_CNTL	0x0240
#define AIFIFO_TIME_STAMP_SYNC_0	0x0244
#define AIFIFO_TIME_STAMP_SYNC_1	0x0248
#define AIFIFO_TIME_STAMP_0	0x024C
#define AIFIFO_TIME_STAMP_1	0x0250
#define AIFIFO_TIME_STAMP_2	0x0254
#define AIFIFO_TIME_STAMP_3	0x0258
#define AIFIFO_TIME_STAMP_LENGTH	0x025C
#define AIFIFO2_TIME_STAMP_CNTL	0x0260
#define AIFIFO2_TIME_STAMP_SYNC_0	0x0264
#define AIFIFO2_TIME_STAMP_SYNC_1	0x0268
#define AIFIFO2_TIME_STAMP_0	0x026C
#define AIFIFO2_TIME_STAMP_1	0x0270
#define AIFIFO2_TIME_STAMP_2	0x0274
#define AIFIFO2_TIME_STAMP_3	0x0278
#define AIFIFO2_TIME_STAMP_LENGTH	0x027C
#define IEC958_TIME_STAMP_CNTL	0x0280
#define IEC958_TIME_STAMP_SYNC_0	0x0284
#define IEC958_TIME_STAMP_SYNC_1	0x0288
#define IEC958_TIME_STAMP_0	0x028C
#define IEC958_TIME_STAMP_1	0x0290
#define IEC958_TIME_STAMP_2	0x0294
#define IEC958_TIME_STAMP_3	0x0298
#define IEC958_TIME_STAMP_LENGTH	0x029C
#define AIU_MEM_AIFIFO2_MEM_CTL	0x02A0
#define AIU_I2S_CBUS_DDR_CNTL	0x02A4
#define AIU_I2S_CBUS_DDR_WDATA	0x02A8
#define AIU_I2S_CBUS_DDR_ADDR	0x02AC

#endif
